# Требования к системе A.S.T.R.A.

### 1. Введение: Законы Автономности

Этот документ определяет правила поведения бота. Нарушение этих правил недопустимо для сохранения **безопасности капитала (даже виртуального)** и стабильности работы.

### 2. Функциональные Требования (FR)

*   **FR-1: Сенсорная Система (Input)**
    *   Система должна каждые 6 часов опрашивать RSS-ленты (CryptoPanic/CoinTelegraph).
    *   Система должна фильтровать новости, удаляя дубликаты и рекламу.

*   **FR-2: Когнитивный Движок (Analysis)**
    *   Система должна отправлять "сжатый" контекст новостей в Gemini Flash.
    *   ИИ должен возвращать строгий JSON с полями: `sentiment_score` (1-10), `action` (BUY/SELL/HOLD), `reasoning`.

*   **FR-3: Исполнительная Система (Execution)**
    *   Торговля ведется **только** на OKX Demo.
    *   Ордер открывается только если `sentiment_score` > 7 (для Long) или < 3 (для Short).
    *   Размер позиции фиксирован (для минимизации рисков на этапе тестов).

*   **FR-4: Система Отчетности (Reporting)**
    *   Каждое действие (или бездействие) должно записываться в `.md` файл.
    *   Имя файла должно содержать дату: `astra_report_YYYY_MM_DD.md`.

### 3. Нефункциональные Требования (NFR)

*   **NFR-1 (Resource Guard):** Класс `TokenGuard` должен блокировать запросы к ИИ, если превышен лимит токенов в минуту/день (Free Tier Protection).
*   **NFR-2 (Autonomy):** Скрипт должен уметь восстанавливаться после разрыва соединения с интернетом.
*   **NFR-3 (Hardware):** Система должна потреблять минимум ОЗУ, чтобы работать в фоне на Dell 5290.

### 4. Ограничения (Constraints)

*   **C-1:** Используем только бесплатную версию Gemini API.
*   **C-2:** Торгуем только парой BTC/USDT для упрощения анализа.